(()=>{"use strict";var e={7002:(e,t,n)=>{n.r(t);var r=n(5629),o=n(4942),a=n(885),i=n(810),s=n(3290),c=n(9526),u=n(8576),l=n(2019),d=n(9233),f=n(1133),p=n(6364),h=n(5861),m=n(5519);const y=(0,c.createContext)({character:"bacon",setCharacter:function(){},highscore:0,setHighscore:function(){}});var v=n(7557),g="@BouncyBacon:Character",b=!0,x={character:"bacon",highscore:0};function w(e){return P.apply(this,arguments)}function P(){return(P=(0,h.default)((function*(e){yield m.default.setItem(g,JSON.stringify(e))}))).apply(this,arguments)}function O(){return(O=(0,h.default)((function*(){if(!b||!m.default)return x;try{var e=yield m.default.getItem(g);return JSON.parse(e)}catch(t){return x}}))).apply(this,arguments)}function S(e){var t=e.children,n=c.useState(x.character),r=(0,a.default)(n,2),o=r[0],i=r[1],s=c.useState(x.highscore),u=(0,a.default)(s,2),l=u[0],d=u[1];return c.useEffect((function(){var e=function(){var e=(0,h.default)((function*(){try{var e=yield function(){return O.apply(this,arguments)}(),t=e.character,n=e.highscore;i(t),d(n)}catch(r){}}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,v.jsx)(y.Provider,{value:{character:o,setCharacter:function(e){i(e),w({character:e,highscore:l})},highscore:l,setHighscore:function(e){d(e),w({character:o,highscore:e})}},children:t})}var _=n(4925),j=n(5671),R=n(3144),M=n(136),C=n(2963),k=n(1120),z=n(7454),E=n(8521),D=n(6337),I=n(7132),A=n(601),B=n(2023),W=n(7690),T=n(3961),G=["style"];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var H={SWIPE_UP:"SWIPE_UP",SWIPE_DOWN:"SWIPE_DOWN",SWIPE_LEFT:"SWIPE_LEFT",SWIPE_RIGHT:"SWIPE_RIGHT"},U={velocityThreshold:.3,directionalOffsetThreshold:80},V={Space:"SWIPE_UP",ArrowUp:"SWIPE_UP",KeyW:"SWIPE_UP",ArrowDown:"SWIPE_DOWN",KeyS:"SWIPE_DOWN",ArrowLeft:"SWIPE_LEFT",KeyA:"SWIPE_LEFT",ArrowRight:"SWIPE_RIGHT",KeyD:"SWIPE_RIGHT"};function K(e,t,n,r){return Math.abs(e)>t&&Math.abs(n)<r}var q=function(e){e.preventDefault()};const J=function(e){(0,M.default)(n,e);var t=N(n);function n(e,r){var o;return(0,j.default)(this,n),(o=t.call(this,e,r)).onKeyDown=function(e){V[e.code]&&o.props.onResponderGrant()},o.onKeyUp=function(e){var t=V[e.code];t&&o.props.onSwipe(t)},o._handleShouldSetPanResponder=function(e,t){return e.preventDefault(),1===e.nativeEvent.touches.length},o._gestureIsClick=function(e){return Math.abs(e.dx)<5&&Math.abs(e.dy)<5},o._handlePanResponderEnd=function(e,t){e.preventDefault();var n=o._getSwipeDirection(t);o._triggerSwipeHandlers(n,t)},o._triggerSwipeHandlers=function(e,t){var n=o.props,r=n.onSwipe,a=n.onSwipeUp,i=n.onSwipeDown,s=n.onSwipeLeft,c=n.onSwipeRight,u=n.onTap,l=H.SWIPE_LEFT,d=H.SWIPE_RIGHT,f=H.SWIPE_UP,p=H.SWIPE_DOWN;switch(r&&r(e,t),e){case l:s&&s(t);break;case d:c&&c(t);break;case f:a&&a(t);break;case p:i&&i(t);break;default:u&&u(t)}},o._getSwipeDirection=function(e){var t=H.SWIPE_LEFT,n=H.SWIPE_RIGHT,r=H.SWIPE_UP,a=H.SWIPE_DOWN,i=e.dx,s=e.dy;return o._isValidHorizontalSwipe(e)?i>0?n:t:o._isValidVerticalSwipe(e)?s>0?a:r:null},o._isValidHorizontalSwipe=function(e){var t=e.vx,n=e.dy,r=o.swipeConfig;return K(t,r.velocityThreshold,n,r.directionalOffsetThreshold)},o._isValidVerticalSwipe=function(e){var t=e.vy,n=e.dx,r=o.swipeConfig;return K(t,r.velocityThreshold,n,r.directionalOffsetThreshold)},o.touchStart=function(e){console.log("touch start"),o.props.onResponderGrant()},o.swipeConfig=Object.assign(U,e.config),o._panResponder=W.default.create({onPanResponderStart:function(){o.props.onResponderGrant()},onStartShouldSetPanResponder:o._handleShouldSetPanResponder,onMoveShouldSetPanResponder:o._handleShouldSetPanResponder,onPanResponderRelease:o._handlePanResponderEnd,onPanResponderTerminate:o._handlePanResponderEnd}),o}return(0,R.default)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1)}},{key:"componentWillUnmount",value:function(){this.view&&(this.view.removeEventListener("touchstart",this.touchStart,!1),this.view.removeEventListener("touchmove",q,!1)),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.swipeConfig=Object.assign(U,e.config)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=(0,_.default)(t,G);return(0,v.jsx)(f.default,F(F({style:[{flex:1,cursor:"pointer"},n],tabIndex:"0",ref:function(t){var n=function(e){try{return(0,T.findDOMNode)(e)}catch(t){return e}}(t);n&&n.addEventListener&&(n.addEventListener("touchstart",e.touchStart,!1),n.addEventListener("touchmove",q,!1)),e.view&&e.view.removeEventListener&&(e.view.removeEventListener("touchstart",e.touchStart,!1),e.view.removeEventListener("touchmove",q,!1)),e.view=n}},r),this._panResponder.panHandlers))}}]),n}(c.Component);var Q=["gameOver","score"];function Y(e){return I.default.select({web:{textShadow:"-"+e+"px 0px 0px #000, "+e+"px 0px 0px #000, 0px -"+e+"px 0px #000, 0px "+e+"px 0px #000"},default:{}})}var X=Y(4),Z=Y(2);function $(e){var t=e.gameOver,n=e.score,r=((0,_.default)(e,Q),c.useContext(y)),o=r.highscore,a=void 0===o?0:o,i=r.setHighscore;c.useEffect((function(){t&&n>a&&i(n)}),[t]);var s=(0,p.useSafeArea)(),u=s.top,l=s.left;return(0,v.jsxs)(f.default,{pointerEvents:"none",style:[ee.container,{top:Math.max(u,16),left:Math.max(l,8)}],children:[(0,v.jsx)(d.default,{style:[ee.score,X],children:n}),a>0&&(0,v.jsxs)(d.default,{style:[ee.highscore,Z],children:["TOP ",a]})]})}var ee=l.default.create({container:{position:"absolute"},score:{color:"white",fontFamily:"retro",fontSize:48,backgroundColor:"transparent"},highscore:{color:"yellow",fontFamily:"retro",fontSize:14,marginTop:4,letterSpacing:-.1,backgroundColor:"transparent"}}),te=n(213);const ne={chicken:{move:{0:n(2519),1:n(756),2:n(2477),3:n(7401),4:n(2236),5:n(3502),6:n(9835),7:n(7365),8:n(5822),9:n(775),10:n(5225),11:n(4128)},die:{0:n(9642),1:n(5487)}},car:{passive:{0:n(8330),1:n(8822)},die:{0:n(8922),1:n(3818)}},bg_music:n(8330),button_in:n(3085),button_out:n(8897),banner:n(5126),water:n(8039),trainAlarm:n(5871),train:{move:{0:n(6233),1:n(7177)},die:{0:n(9673)}}};var re="web"===I.default.OS;const oe=new(function(){function e(){var t=this;(0,j.default)(this,e),this.sounds=ne,this.audioFileMoveIndex=0,this.playMoveSound=(0,h.default)((function*(){console.log("move sound"),yield t.playAsync(t.sounds.chicken.move[""+t.audioFileMoveIndex]),t.audioFileMoveIndex=(t.audioFileMoveIndex+1)%Object.keys(t.sounds.chicken.move).length})),this.playPassiveCarSound=(0,h.default)((function*(){0===Math.floor(2*Math.random())&&(yield t.playAsync(t.sounds.car.passive[1]))})),this.playDeathSound=(0,h.default)((function*(){yield t.playAsync(t.sounds.chicken.die[""+Math.floor(2*Math.random())])})),this.playCarHitSound=(0,h.default)((function*(){yield t.playAsync(t.sounds.car.die[""+Math.floor(2*Math.random())])})),this._soundCache={},this.getIdleSoundAsync=function(){var e=(0,h.default)((function*(e){if(t._soundCache[e])for(var n of t._soundCache[e]){if(!(yield n.getStatusAsync()).isPlaying)return n}return null}));return function(t){return e.apply(this,arguments)}}(),this.createIdleSoundAsync=function(){var e=(0,h.default)((function*(e){t._soundCache[e]||(t._soundCache[e]=[]);var n="loaded-sound-"+e;console.time(n);var r=(yield te.Sound.createAsync(e)).sound;return console.timeEnd(n),t._soundCache[e].push(r),r}));return function(t){return e.apply(this,arguments)}}(),this.playAsync=function(){var e=(0,h.default)((function*(e,n){if(!re){var r=yield t.getIdleSoundAsync(e);return r?yield r.setPositionAsync(0):r=yield t.createIdleSoundAsync(e),yield r.playAsync()}}));return function(t,n){return e.apply(this,arguments)}}(),this.stopAsync=function(){var e=(0,h.default)((function*(e){if(e in t.sounds){var n=t.sounds[e];try{yield n.stopAsync()}catch(r){console.warn("Error stopping audio",{error:r})}}else console.warn("Audio doesn't exist",e)}));return function(t){return e.apply(this,arguments)}}(),this.volumeAsync=function(){var e=(0,h.default)((function*(e,n){if(e in t.sounds){var r=t.sounds[e];try{yield r.setVolumeAsync(n)}catch(o){console.warn("Error setting volume of audio",{error:o})}}else console.warn("Audio doesn't exist",e)}));return function(t,n){return e.apply(this,arguments)}}(),this.pauseAsync=function(){var e=(0,h.default)((function*(e){if(e in t.sounds){var n=t.sounds[e];try{yield n.pauseAsync()}catch(r){console.warn("Error pausing audio",{error:r})}}else console.warn("Audio doesn't exist",e)}));return function(t){return e.apply(this,arguments)}}(),this.setupAsync=(0,h.default)((function*(){return!0}))}return(0,R.default)(e,[{key:"assets",get:function(){return ne}}]),e}());var ae=n(1752);const ie={bacon:{name:"Bacon",id:"bacon"},brent:{name:"Brent Vatne",id:"brent"},avocoder:{name:"Avocoder",id:"avocoder"},wheeler:{name:"Wheeler",id:"wheeler"},palmer:{name:"Palmer",id:"palmer"},juwan:{name:"Juwan",id:"juwan"}};var se=n(9493),ce=n(1441);const ue={environment:{grass:{0:{model:n(3260),texture:n(7007)},1:{model:n(3260),texture:n(9873)}},road:{0:{model:n(1603),texture:n(737)},1:{model:n(1603),texture:n(4235)}},log:{0:{model:n(3839),texture:n(8682)},1:{model:n(6885),texture:n(1612)},2:{model:n(3461),texture:n(1221)},3:{model:n(1592),texture:n(2008)}},tree:{0:{model:n(5064),texture:n(8415)},1:{model:n(9667),texture:n(1892)},2:{model:n(1046),texture:n(9119)},3:{model:n(7300),texture:n(6267)}},lily_pad:{model:n(2839),texture:n(2072)},river:{model:n(2648),texture:n(8172)},railroad:{model:n(1183),texture:n(1254)},train_light:{active:{0:{model:n(3513),texture:n(7213)},1:{model:n(5307),texture:n(7141)}},inactive:{model:n(6870),texture:n(6586)}},boulder:{0:{model:n(3484),texture:n(3784)},1:{model:n(9971),texture:n(9896)}}},vehicles:{train:{front:{model:n(1057),texture:n(4765)},middle:{model:n(2309),texture:n(6e3)},back:{model:n(548),texture:n(5472)}},police_car:{model:n(6281),texture:n(1790)},blue_car:{model:n(1496),texture:n(7242)},blue_truck:{model:n(4617),texture:n(8082)},green_car:{model:n(6876),texture:n(773)},orange_car:{model:n(7709),texture:n(9745)},purple_car:{model:n(9316),texture:n(9012)},red_truck:{model:n(3459),texture:n(1289)},taxi:{model:n(186),texture:n(8171)}},characters:{brent:{model:n(9),texture:n(208)},avocoder:{model:n(8848),texture:n(288)},bacon:{model:n(4129),texture:n(2185)},wheeler:{model:n(5324),texture:n(6678)},palmer:{model:n(6103),texture:n(1523)},juwan:{model:n(604),texture:n(6520)}}};function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var de={};function fe(e){if(de[e])return de[e].clone();var t=(new se.TextureLoader).load(e);return t.magFilter=ce.NearestFilter,t.minFilter=ce.NearestFilter,de[e]=t,t}var pe={},he=function(e){(0,M.default)(n,e);var t=le(n);function n(){return(0,j.default)(this,n),t.apply(this,arguments)}return(0,R.default)(n,null,[{key:"load",value:function(e){return pe[e]?pe[e].clone():(pe[e]=new ce.MeshPhongMaterial({map:fe(e),flatShading:!0,emissiveIntensity:0,shininess:0,reflectivity:0}),pe[e])}}]),n}(ce.MeshPhongMaterial);he.loadTexture=fe;var me=function(){function e(){var t=this;(0,j.default)(this,e),this.models={},this.globalModels=ue,this.getSize=function(e){return(new ce.Box3).setFromObject(e).size()},this.getWidth=function(e){return(new ce.Box3).setFromObject(e).size().width},this._downloadAssets=function(){var e=(0,h.default)((function*(e){e.name;var t=e.model,n=e.texture,r=e.castShadow,o=e.receiveShadow,a=he.load(n),i=yield(0,se.loadObjAsync)({asset:t});return i.traverse((function(e){e instanceof ce.Mesh&&(e.material=a)})),function(e,t){var n=t.castShadow,r=t.receiveShadow;e.traverse((function(e){e instanceof ce.Mesh&&(e.castShadow=n,e.receiveShadow=r)})),e.castShadow=n,e.receiveShadow=r}(i,{castShadow:r,receiveShadow:o}),i}));return function(t){return e.apply(this,arguments)}}(),this.getRandom=function(){var e=Object.keys(t.models),n=e[e.length*Math.random()<<0];return t.models[n].clone()},this._register=function(){var e=(0,h.default)((function*(e,n){return t.models[e]=yield t._download(n)}));return function(t,n){return e.apply(this,arguments)}}(),this._download=function(){var e=(0,h.default)((function*(e){return yield t._downloadAssets(e)}));return function(t){return e.apply(this,arguments)}}(),this.setup=(0,h.default)((function*(){}))}return(0,R.default)(e,[{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if(e in this.models)return this.models[e].clone();throw new Error("Generic: Node with Key "+e+" does not exist in "+JSON.stringify(Object.keys(this.models),null,2))}}]),e}();function ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var ve=function(e){(0,M.default)(n,e);var t=ye(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){var t=e.globalModels.characters;for(var n of Object.keys(ie))if(n in ie){var r=ie[n],o=t[r.id],a=o.model,i=o.texture;yield e._register(r.id,{model:a,texture:i,receiveShadow:!0,castShadow:!0})}return e.models})),e}return(0,R.default)(n,[{key:"getNode",value:function(e){return(0,ae.default)((0,k.default)(n.prototype),"getNode",this).call(this,e)}}]),n}(me);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var we=["police_car","blue_car","blue_truck","green_car","orange_car","purple_car","red_truck","taxi"],Pe=function(e){(0,M.default)(n,e);var t=xe(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){var t=e.globalModels.vehicles;for(var n in we){var r=we[n];yield e._register(""+n,be(be({},t[r]),{},{castShadow:!0,receiveShadow:!0}))}return e.models})),e}return(0,R.default)(n)}(me);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var je=function(e){(0,M.default)(n,e);var t=_e(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){for(var t=e.globalModels.environment.log,n=0;n<4;n++)yield e._register(""+n,Se(Se({},t[""+n]),{},{castShadow:!0,receiveShadow:!0}));return e.models})),e}return(0,R.default)(n)}(me);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var ke=function(e){(0,M.default)(n,e);var t=Ce(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){for(var t=e.globalModels.environment.road,n=0;n<2;n++)yield e._register(""+n,Me(Me({},t[""+n]),{},{castShadow:!1,receiveShadow:!0}));return e.models})),e}return(0,R.default)(n)}(me);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Ie=function(e){(0,M.default)(n,e);var t=De(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){for(var t=e.globalModels.environment.grass,n=0;n<2;n++)yield e._register(""+n,Ee(Ee({},t[""+n]),{},{castShadow:!1,receiveShadow:!0}));return e.models})),e}return(0,R.default)(n)}(me);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Te=function(e){(0,M.default)(n,e);var t=We(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){var t=e.globalModels.environment.river;return yield e._register("0",Be(Be({},t),{},{castShadow:!1,receiveShadow:!0})),e.models})),e}return(0,R.default)(n)}(me);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Ne=function(e){(0,M.default)(r,e);var t=Fe(r);function r(){var e;(0,j.default)(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).setup=(0,h.default)((function*(){for(var t={0:{model:n(5064),texture:n(8415)},1:{model:n(9667),texture:n(1892)},2:{model:n(1046),texture:n(9119)},3:{model:n(7300),texture:n(6267)}},r=0;r<4;r++)yield e._register(""+r,Le(Le({},t[""+r]),{},{castShadow:!0,receiveShadow:!1}));return e.models})),e}return(0,R.default)(r)}(me);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Ke=function(e){(0,M.default)(n,e);var t=Ve(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).getDepth=function(e){var t=new ce.Box3;return t.setFromObject(e),Math.round(t.max.x-t.min.x)},e.withSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=new ce.Group,r=e.getNode("front");n.add(r);for(var o=e.getDepth(r),a=0;a<t;a++){var i=e.getNode("middle");i.position.x=o,n.add(i),o+=e.getDepth(i)}var s=e.getNode("back");return s.position.x=o,n.add(s),n},e.setup=(0,h.default)((function*(){var t=e.globalModels.vehicles.train;return yield e._register("front",Ue(Ue({},t.front),{},{receiveShadow:!0,castShadow:!0})),yield e._register("middle",Ue(Ue({},t.middle),{},{receiveShadow:!0,castShadow:!0})),yield e._register("back",Ue(Ue({},t.back),{},{receiveShadow:!0,castShadow:!0})),e.models})),e}return(0,R.default)(n)}(me);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Ye=function(e){(0,M.default)(n,e);var t=Qe(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){for(var t=e.globalModels.environment.boulder,n=0;n<2;n++)yield e._register(""+n,Je(Je({},t[""+n]),{},{castShadow:!0,receiveShadow:!1}));return e.models})),e}return(0,R.default)(n)}(me);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var et=function(e){(0,M.default)(n,e);var t=$e(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){var t=e.globalModels.environment.railroad;return yield e._register("0",Ze(Ze({},t),{},{castShadow:!1,receiveShadow:!0})),e.models})),e}return(0,R.default)(n)}(me);function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var nt=function(e){(0,M.default)(n,e);var t=tt(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){var t=e.globalModels.environment.train_light,n=t.active,r=t.inactive;yield e._register("0",r);for(var o=0;o<2;o++)yield e._register("active_"+o,n[""+o]);return e.models})),e}return(0,R.default)(n)}(me);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var it=function(e){(0,M.default)(n,e);var t=at(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).setup=(0,h.default)((function*(){var t=e.globalModels.environment.lily_pad;return yield e._register("0",ot(ot({},t),{},{castShadow:!0,receiveShadow:!0})),e.models})),e}return(0,R.default)(n)}(me);const st=new((0,R.default)((function e(){var t=this;(0,j.default)(this,e),this.loadModels=(0,h.default)((function*(){return t._lilyPad=new it,t._grass=new Ie,t._road=new ke,t._river=new Te,t._boulder=new Ye,t._tree=new Ne,t._car=new Pe,t._railroad=new et,t._train=new Ke,t._trainLight=new nt,t._log=new je,t._hero=new ve,yield Promise.all([t._lilyPad.setup(),t._road.setup(),t._grass.setup(),t._river.setup(),t._log.setup(),t._boulder.setup(),t._tree.setup(),t._car.setup(),t._railroad.setup(),t._train.setup(),t._hero.setup(),t._trainLight.setup()]),console.log("Done Loading 3D Models!"),!0}))})));var ct=n(6126),ut=.4,lt=8898303,dt=8,ft=20,pt=!1,ht=.03,mt=-30,yt=.1,vt=.5*Math.PI,gt=.8,bt=(0,R.default)((function e(){var t=this;(0,j.default)(this,e),this.waterMat=new ce.MeshPhongMaterial({color:16777215,flatShading:!0}),this.mesh=new ce.Group,this.run=function(e,n){for(var r=function(e){e.visible=!1},o=0;o<t.parts.length;o++){var a=n<0?-1:1,i=(5*Math.random()+2)*a,s=2*Math.random()+1,c=2*Math.random()+1,u=t.parts[o],l={type:"cubic",values:[{x:0,y:0,z:0},{x:.25*i,y:.25*s,z:.25*c},{x:.5*i,y:.5*s,z:.5*c},{x:i,y:s,z:c}],curviness:3};u.position.set(0,0,0),u.scale.set(1,1,1),u.visible=!0;var d=.3+.5*Math.random();ct.TweenMax.to(u.position,5*d,{bezier:l}),ct.TweenMax.to(u.rotation,5*d,{z:Math.random()*(2*Math.PI)+.2,x:Math.random()*(2*Math.PI)+.2,y:Math.random()*(2*Math.PI)+.2,delay:d});var f=.01;ct.TweenMax.to(u.scale,d,{x:f,y:f,z:f,onComplete:r,onCompleteParams:[u],delay:3*d})}};var n=new ce.BoxGeometry(.1,.1,.01,1);this.parts=[];for(var r=0;r<20;r++){var o=new ce.Mesh(n,this.waterMat);this.parts.push(o),this.mesh.add(o)}})),xt=(0,R.default)((function e(){var t=this;(0,j.default)(this,e),this.run=function(){for(var e=function(e){e.visible=!1},n=0;n<t.parts.length;n++){var r=1*Math.random()-1,o=2*Math.random()+1,a=1*Math.random()-1,i=t.parts[n],s={type:"cubic",values:[{x:0,y:0,z:0},{x:r,y:o,z:a},{x:.8*r,y:.8*o,z:.8*a},{x:r*(.5*Math.random()+1.1),y:0,z:a*(.5*Math.random()+1.1)}],curviness:0};i.position.set(0,0,0),i.scale.set(1,1,1),i.visible=!0;var c=.3+.5*Math.random();ct.TweenMax.to(i.position,4*c,{bezier:s,ease:ct.Bounce.easeOut});var u=.01;ct.TweenMax.to(i.scale,c,{x:u,y:u,z:u,onComplete:e,onCompleteParams:[i],delay:3*c})}},this.waterMat=new ce.MeshPhongMaterial({color:7460863,flatShading:!0}),this.mesh=new ce.Group;var n=new ce.BoxGeometry(.2,.2+.1,.2,1);this.parts=[];for(var r=0;r<15;r++){var o=new ce.Mesh(n,this.waterMat);this.parts.push(o),this.mesh.add(o)}})),wt=n(7326);function Pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Ot=function(e){(0,M.default)(n,e);var t=Pt(n);function n(e,r){var o;(0,j.default)(this,n),(o=t.call(this)).active=!1,o.top=.5,o.getWidth=function(e){var t=new ce.Box3;return t.setFromObject(e),Math.round(t.max.x-t.min.x)},o.setupLight=function(e){e.position.z=-.5,e.rotation.y=Math.PI,o.railRoad.add(e)},o.update=function(e,t){o.active&&o.drive({dt:e,player:t})},o.drive=function(e){e.dt;var t=e.player,n=(t.position,t.hitByTrain),r=t.moving,a=(0,wt.default)(o).train,i=110;a.mesh.position.x+=a.speed,a.mesh.position.x>i&&a.speed>0?(a.mesh.position.x=-110,o.startRingingLight(),oe.playAsync(oe.sounds.train.move[0]),a===n&&(t.hitByTrain=null)):a.mesh.position.x<-110&&a.speed<0?(a.mesh.position.x=i,o.startRingingLight(),oe.playAsync(oe.sounds.train.move[0]),a===n&&(t.hitByTrain=null)):r||o.trainShouldCheckCollision({player:t})},o.trainShouldCheckCollision=function(e){var t=e.player,n=(0,wt.default)(o).train;if(Math.round(t.position.z)==o.position.z&&t.isAlive){var r=n.mesh,a=n.collisionBox;if(t.position.x<r.position.x+a&&t.position.x>r.position.x-a){if(t.moving&&Math.abs(t.position.z-Math.round(t.position.z))>.1){var i=t.position.z-Math.round(t.position.z)>0;return t.position.z=o.position.z+(i?.52:-.52),TweenLite.to(t.scale,.3,{y:1.5,z:.2}),ct.TweenMax.to(t.rotation,.3,{z:Math.random()*Math.PI-Math.PI/2}),void o.onCollide(n,"feathers","train")}t.position.y=ut,ct.TweenMax.to(t.scale,.3,{y:.2,x:1.5}),ct.TweenMax.to(t.rotation,.3,{y:Math.random()*Math.PI-Math.PI/2}),o.onCollide()}}},o.startRingingLight=function(){o.lightRinging=!0,o.ringCount=0,o.ringLight()},o.ringLight=function(){clearTimeout(o.timer),o.lightRinging&&o.ringCount<15?(o.light.visible=!1,o.ringCount+=1,o.active_light_b.visible=o.active_light_a.visible,o.active_light_a.visible=!o.active_light_a.visible,o.timer=setTimeout(o.ringLight,200)):(o.lightRinging=!1,o.ringCount=0,o.light.visible=!0,o.active_light_b.visible=o.active_light_a.visible=!1)},o.heroWidth=e,o.onCollide=r;var a=st._railroad,i=st._trainLight,s=st._train;o.railRoad=a.getNode(),o.light=i.getNode("0"),o.active_light_a=i.getNode("active_0"),o.active_light_b=i.getNode("active_1"),o._trainMesh=s.withSize(2*Math.random()+1);var c=o.getWidth(o._trainMesh);return o.train={mesh:o._trainMesh,speed:.8,width:c,collisionBox:o.heroWidth/2+c/2-.1},o.setupLight(o.light),o.setupLight(o.active_light_a),o.setupLight(o.active_light_b),o.active_light_a.visible=!1,o.active_light_b.visible=!1,o.railRoad.add(o._trainMesh),o._trainMesh.position.y=ut,o._trainMesh.position.z=.1,o.add(o.railRoad),o}return(0,R.default)(n)}(ce.Object3D);function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var _t=function(e){(0,M.default)(n,e);var t=St(n);function n(e,r){var o;(0,j.default)(this,n),(o=t.call(this)).active=!1,o.cars=[],o.top=.3,o.getWidth=function(e){var t=new ce.Box3;return t.setFromObject(e),Math.round(t.max.z-t.min.z)},o.carGen=function(){o.cars.map((function(e){o.road.remove(e.mesh),e=null})),o.cars=[];var e=.06*Math.random()+.02,t=Math.floor(2*Math.random())+1,n=1;Math.random()>.5&&(n=-1);for(var r=-6*n,a=0;a<t;a++){if(o.cars.length-1<a){var i=st._car.getRandom(),s=o.getWidth(i);o.cars.push({mesh:i,dir:n,width:s,collisionBox:o.heroWidth/2+s/2-.1}),o.road.add(i)}o.cars[a].mesh.position.set(r,.25,0),o.cars[a].speed=e*n,o.cars[a].mesh.rotation.y=Math.PI/2*n,r-=(3*Math.random()+5)*n}},o.update=function(e,t){o.active&&o.cars.map((function(n){return o.drive({dt:e,player:t,car:n})}))},o.drive=function(e){e.dt;var t=e.player,n=e.car,r=t.hitBy;n.mesh.position.x+=n.speed,n.mesh.position.x>11&&n.speed>0?(n.mesh.position.x=-11,n===r&&(t.hitBy=null)):n.mesh.position.x<-11&&n.speed<0?(n.mesh.position.x=11,n===r&&(t.hitBy=null)):o.shouldCheckCollision({player:t,car:n})},o.shouldCheckCollision=function(e){var t=e.player,n=e.car;if(Math.round(t.position.z)==o.position.z&&t.isAlive){var r=n.mesh,a=n.collisionBox;t.position.x<r.position.x+a&&t.position.x>r.position.x-a&&(t.collideWithCar((0,wt.default)(o),n),o.onCollide(n,"feathers","car"))}},o.heroWidth=e,o.onCollide=r;var a=st._road;return o.road=a.models[1].children[0].clone(),o.add(o.road),o.carGen(),o}return(0,R.default)(n,[{key:"isFirstLane",value:function(e){this.road.material=e?st._road.models[1].children[0].material:st._road.models[0].children[0].material}}]),n}(ce.Object3D);function jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Rt=new ce.MeshPhongMaterial({color:16777215,flatShading:!0,side:ce.DoubleSide}),Mt=new ce.PlaneBufferGeometry(.6,.6,1),Ct=function(e){(0,M.default)(n,e);var t=jt(n);function n(e){var r;(0,j.default)(this,n),(r=t.call(this)).parts=[],r.run=function(e,t){for(var n=function(e){var t=e.min,n=void 0===t?0:t,r=e.max,o=void 0===r?1:r;return Math.random()*(o-n)+n},o=function(e,t){var o=1.6*.2*t;ct.TweenMax.to(e.scale,.4,{x:1,y:1,z:1,delay:o,ease:ct.Bounce.easeOut,onComplete:function(o){var i=.01;TweenLite.to(e.scale,1.2,{x:i,y:i,z:i,ease:ct.Power2.easeIn}),ct.TweenMax.to(e.position,1.2,{x:e.position.x+n({min:.2,max:1})*r.direction,onComplete:function(){return a(e,t)}})}})},a=function(e,t){!function(e,t){e.position.set(n({min:-.1,max:.1}),0,.6/r.parts.length*t+.2),e.visible=!0;var o=.01;e.scale.set(o,o,o),e.rotation.y=.6*Math.random()-.3}(e,t),o(e,t)},i=0;i<r.parts.length;i++){var s=r.parts[i];a(s,i)}},r.direction=e;for(var o=0;o<6;o++){var a=new ce.Mesh(Mt,Rt);a.rotation.x=Math.PI/2,a.position.set(0,0,0),r.parts.push(a),r.add(a)}return r}return(0,R.default)(n)}(ce.Object3D);function kt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var zt=function(e){(0,M.default)(n,e);var t=kt(n);function n(e,r){var o;(0,j.default)(this,n),(o=t.call(this)).active=!1,o.entities=[],o.sineCount=0,o.sineInc=Math.PI/50,o.top=.25,o.getWidth=function(e){var t=new ce.Box3;return t.setFromObject(e),Math.round(t.max.x-t.min.x)},o.generate=function(){o.entities.map((function(e){o.floor.remove(e.mesh),e=null})),o.entities=[],o.isStaticRow(0|o.position.z)?o.generateStatic():pt||o.generateDynamic()},o.generateStatic=function(){for(var e=Math.floor(2*Math.random())+2,t=Math.floor(2*Math.random()-4),n=0;n<e;){if(o.entities.length-1<n){var r=st._lilyPad.getRandom(),a=o.getWidth(r);o.entities.push({mesh:r,top:.2,min:.01,mid:.125,dir:0,width:a,collisionBox:o.heroWidth/2+a/2-.1}),o.floor.add(r)}o.entities[n].mesh.position.set(t,.125,0),o.entities[n].speed=0,ct.TweenMax.to(o.entities[n].mesh.rotation,2*Math.random()+2,{y:1.5*Math.random()+.5,yoyo:!0,repeat:-1,ease:ct.Power2.easeInOut}),t+=Math.floor(2*Math.random()+2),n++}},o.generateDynamic=function(){var e=.05*Math.random()+.02,t=Math.floor(2*Math.random())+2,n=1;Math.random()>.5&&(n=-1);for(var r=-6*n,a=0;a<t;a++){if(o.entities.length-1<a){var i=st._log.getRandom(),s=o.getWidth(i);o.entities.push({mesh:i,top:.3,min:-.3,mid:-.1,dir:n,width:s,collisionBox:o.heroWidth/2+s/2-.1}),o.floor.add(i)}o.entities[a].mesh.position.set(r,-.1,0),o.entities[a].speed=e*n,r-=(3*Math.random()+5)*n}},o.bounce=function(e){var t=e.entity,n=e.player,r=.2;TweenLite.to(t.mesh.position,.9*r,{y:t.min}),TweenLite.to(t.mesh.position,r,{y:t.mid,delay:r}),ct.TweenMax.to(n.position,.9*r,{y:t.top+t.min}),ct.TweenMax.to(n.position,r,{y:t.top+t.mid,delay:r})},o.isStaticRow=function(e){return e%2===0},o.update=function(e,t){o.active&&(o.entities.map((function(n){return o.move({dt:e,player:t,entity:n})})),t.moving||t.ridingOn||(o.entities.map((function(n){return o.shouldCheckCollision({dt:e,player:t,entity:n})})),o.shouldCheckHazardCollision({player:t})))},o.move=function(e){e.dt,e.player;var t=e.entity;t.mesh.position.x+=t.speed,t.mesh.position.x>11&&t.speed>0?t.mesh.position.x=-11:t.mesh.position.x<-11&&t.speed<0&&(t.mesh.position.x=11)},o.getRidableForPosition=function(e){return Math.round(e.z)!==o.position.z?null:o.getCollisionLog(e)},o.getPlayerLowerBouncePositionForEntity=function(e){return e.top+e.mid},o.getPlayerSunkenPosition=function(){return.08*Math.sin(o.sineCount)-.2},o.shouldCheckHazardCollision=function(e){var t=e.player;if(Math.round(t.position.z)===o.position.z&&!t.moving&&!t.ridingOn)if(t.isAlive)o.onCollide(o.floor,"water");else{var n=o.getPlayerSunkenPosition();o.sineCount+=o.sineInc,t.position.y=n,t.rotation.y+=.01,t.position.x+=o.entities[0].speed}},o.getCollisionLog=function(e){for(var t of o.entities){var n=o.willCollideWithLog2D({position:e,entity:t});if(n)return n}},o.willCollideWithLog2D=function(e){var t=e.position,n=e.entity,r=n.mesh,o=n.collisionBox;return t.x<r.position.x+o&&t.x>r.position.x-o?n:null},o.shouldCheckCollision=function(e){var t=e.player,n=e.entity;if(Math.round(t.position.z)===o.position.z&&t.isAlive){var r=n.mesh,a=n.collisionBox;t.position.x<r.position.x+a&&t.position.x>r.position.x-a&&(t.ridingOn=n,t.ridingOnOffset=t.position.x-n.mesh.position.x,o.bounce({entity:n,player:t}))}},o.heroWidth=e,o.onCollide=r;var a=st._river;o.floor=a.getNode(),o.add(o.floor);var i=new Ct(1);i.position.set(4.5,.2,-.5),i.visible=!0,i.run(),o.add(i);var s=new Ct(-1);return s.position.set(-4.5,.2,-.5),s.visible=!0,s.run(),o.add(s),o}return(0,R.default)(n)}(ce.Object3D);function Et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Dt={empty:"empty",solid:"solid",random:"random"},It=!0,At=!0,Bt=!0,Wt=function(e){(0,M.default)(n,e);var t=Et(n);function n(e,r){var o;(0,j.default)(this,n),(o=t.call(this)).active=!1,o.entities=[],o.top=.4,o.generate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt.random;o.entities.map((function(e){o.floor.remove(e.mesh),e=null})),o.entities=[],o.obstacleMap={},o.treeGen(e)},o.obstacleMap={},o.addObstacle=function(e){var t;t=Bt&&Math.random()<.4?st._boulder.getRandom():st._tree.getRandom(),o.obstacleMap[""+(0|e)]={index:o.entities.length},o.entities.push({mesh:t}),o.floor.add(t),t.position.set(e,ut,0)},o.treeGen=function(e){for(var t=0,n=Math.round(2*Math.random())+1,r=-3;r<12;r++){var a=r-4;e!==Dt.solid?It&&(r>=9||r<=-1)?o.addObstacle(a):At&&t<n&&0!==a&&Math.random()>.6&&(o.addObstacle(a),t++):o.addObstacle(a)}},o.onCollide=r;var a=st._grass;return o.floor=a.getNode(),o.add(o.floor),o}return(0,R.default)(n)}(ce.Object3D);const Tt={RailRoad:Ot,Road:_t,Water:zt,Grass:Wt},Gt={SaveState:{player_position_x:0,player_position_z:0,ground:"GRASS",place:"GRASS"}};function Lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Ft=!0,Nt=!0,Ht=function(e){(0,M.default)(n,e);var t=Lt(n);function n(e){var r,o=e.gl;(0,j.default)(this,n),(r=t.call(this)).resetParticles=function(e){Ft&&(r.featherParticles.mesh.position.copy(e),r.waterParticles.mesh.position.copy(e),r.featherParticles.mesh.position.y=0,r.waterParticles.mesh.position.y=0)},r.useParticle=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Ft&&requestAnimationFrame((0,h.default)((function*(){"water"===t?(r.waterParticles.mesh.position.copy(e.position),r.waterParticles.run(t),yield oe.playAsync(oe.sounds.water)):"feathers"===t&&(r.featherParticles.mesh.position.copy(e.position),r.featherParticles.run(t,n))})))},r.createParticles=function(){Ft&&(r.waterParticles=new xt,r.world.add(r.waterParticles.mesh),r.featherParticles=new bt,r.world.add(r.featherParticles.mesh))},r.rumble=function(){A.default.vibrate(),ct.TweenMax.to(r.position,.2,{x:0,y:0,z:1}),ct.TweenMax.to(r.position,.2,{x:0,y:0,z:0,delay:.2})},r.__gl=o,r.worldWithCamera=new ce.Group,r.world=new Vt,r.worldWithCamera.add(r.world),r.add(r.worldWithCamera);var a=new ce.DirectionalLight(14674943,1.75);a.position.set(20,30,.05),a.castShadow=Nt,a.shadow.mapSize.width=2048,a.shadow.mapSize.height=2048;return a.shadow.camera.left=-15,a.shadow.camera.right=9,a.shadow.camera.top=6,a.shadow.camera.bottom=-6,a.shadow.camera.far=100,a.shadow.bias=1e-4,r.add(a),r.light=a,r}return(0,R.default)(n,[{key:"setShadowsEnabled",value:function(e){this.light.castShadow=e}}]),n}(ce.Scene),Ut=function(e){(0,M.default)(n,e);var t=Lt(n);function n(){var e;return(0,j.default)(this,n),(e=t.call(this,-1,1,1,-1,-30,30)).updateScale=function(t){var n=t.width,r=t.height,o=t.scale;e.left=-n*o,e.right=n*o,e.top=r*o,e.bottom=-r*o,e.zoom=300,e.updateProjectionMatrix()},e.position.set(-1,2.8,-2.9),e.lookAt(0,0,0),e}return(0,R.default)(n)}(ce.OrthographicCamera),Vt=function(e){(0,M.default)(n,e);var t=Lt(n);function n(){var e;return(0,j.default)(this,n),(e=t.call(this)).createParticles=function(){e.waterParticles=new xt,e.add(e.waterParticles.mesh),e.featherParticles=new bt,e.add(e.featherParticles.mesh)},e.add(new ce.AmbientLight(6710886,.8)),e}return(0,R.default)(n)}(ce.Group),Kt=function(e){(0,M.default)(n,e);var t=Lt(n);function n(e){var r;return(0,j.default)(this,n),(r=t.call(this,e)).__gl=e.gl,r.setShadowsEnabled(Nt),r}return(0,R.default)(n,[{key:"setShadowsEnabled",value:function(e){this.gammaInput=e,this.gammaOutput=e,this.shadowMap.enabled=e}}]),n}(se.Renderer),qt=function(){function e(){var t=this;(0,j.default)(this,e),this.floorMap={},this.treeCollision=function(e){var n=""+(0|e.z);if(n in t.floorMap){var r=t.floorMap[n],o=r.type,a=r.entity;if("grass"===o)if(""+(0|e.x)in a.obstacleMap)return!0}return!1}}return(0,R.default)(e,[{key:"reset",value:function(){this.floorMap={}}},{key:"getRow",value:function(e){return this.floorMap[""+e]}},{key:"setRow",value:function(e,t){this.floorMap[""+e]=t}}]),e}(),Jt=(0,R.default)((function e(){(0,j.default)(this,e),this.items=[],this.count=0})),Qt=function(e){(0,M.default)(n,e);var t=Lt(n);function n(e){var r,o=e.heroWidth,a=e.onCollide,i=e.scene;(0,j.default)(this,n),(r=t.call(this)).grasses=new Jt,r.water=new Jt,r.roads=new Jt,r.railRoads=new Jt,r.rowCount=0,r.newRow=function(e){r.grasses.count===ft&&(r.grasses.count=0),r.roads.count===ft&&(r.roads.count=0),r.water.count===ft&&(r.water.count=0),r.railRoads.count===ft&&(r.railRoads.count=0),r.rowCount<10&&(e="grass");var t=["grass","roadtype","water"];switch(null==e&&(e=t[Math.floor(Math.random()*t.length)]),e){case"grass":r.grasses.items[r.grasses.count].position.z=r.rowCount,r.grasses.items[r.grasses.count].generate(r.mapRowToObstacle(r.rowCount)),r.setRow(r.rowCount,{type:"grass",entity:r.grasses.items[r.grasses.count]}),r.grasses.count++;break;case"roadtype":if(0===(4*Math.random()|0))r.railRoads.items[r.railRoads.count].position.z=r.rowCount,r.railRoads.items[r.railRoads.count].active=!0,r.setRow(r.rowCount,{type:"railRoad",entity:r.railRoads.items[r.railRoads.count]}),r.railRoads.count++;else{r.roads.items[r.roads.count].position.z=r.rowCount;var n=(r.getRow(r.rowCount-1)||{}).type;r.roads.items[r.roads.count].isFirstLane("road"!==n),r.roads.items[r.roads.count].active=!0,r.setRow(r.rowCount,{type:"road",entity:r.roads.items[r.roads.count]}),r.roads.count++}break;case"water":r.water.items[r.water.count].position.z=r.rowCount,r.water.items[r.water.count].active=!0,r.water.items[r.water.count].generate(),r.setRow(r.rowCount,{type:"water",entity:r.water.items[r.water.count]}),r.water.count++}r.rowCount++},r.init=function(){for(var e=0;e<ft;e++)r.grasses.items[e].position.z=mt,r.water.items[e].position.z=mt,r.water.items[e].active=!1,r.roads.items[e].position.z=mt,r.roads.items[e].active=!1,r.railRoads.items[e].position.z=mt,r.railRoads.items[e].active=!1;r.grasses.items[r.grasses.count].position.z=r.rowCount,r.grasses.items[r.grasses.count].generate(r.mapRowToObstacle(r.rowCount)),r.grasses.count++,r.rowCount++;for(var t=0;t<ft+3;t++)r.newRow()},r.mapRowToObstacle=function(e){return r.rowCount<5?Dt.solid:r.rowCount<10?Dt.empty:Dt.random},r.heroWidth=o;for(var s=0;s<ft;s++)r.grasses.items[s]=new Tt.Grass(r.heroWidth),r.water.items[s]=new Tt.Water(r.heroWidth,a),r.roads.items[s]=new Tt.Road(r.heroWidth,a),r.railRoads.items[s]=new Tt.RailRoad(r.heroWidth,a),i.world.add(r.grasses.items[s]),i.world.add(r.water.items[s]),i.world.add(r.roads.items[s]),i.world.add(r.railRoads.items[s]);return r}return(0,R.default)(n,[{key:"checkGround",value:function(e,t){return Math.round(e.position.z)==t.position.z}},{key:"tick",value:function(e,t){var n=!1;for(var r of this.grasses.items)!1===n&&!0===this.checkGround(t,r)&&(Gt.SaveState.ground="GRASS",n=!0);for(var o of this.railRoads.items)!1===n&&!0===this.checkGround(t,o)&&(Gt.SaveState.ground="RAILROAD",n=!0),o.update(e,t);for(var a of this.roads.items)!1===n&&!0===this.checkGround(t,a)&&(Gt.SaveState.ground="ROAD",n=!0),a.update(e,t);for(var i of this.water.items)!1===n&&!0===this.checkGround(t,i)&&(Gt.SaveState.ground="WATER",n=!0),i.update(e,t)}},{key:"reset",value:function(){this.grasses.count=0,this.water.count=0,this.roads.count=0,this.railRoads.count=0,this.rowCount=0,(0,ae.default)((0,k.default)(n.prototype),"reset",this).call(this)}}]),n}(qt);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Zt=function(e){return Math.atan2(Math.sin(e),Math.cos(e))},$t=function(e){(0,M.default)(n,e);var t=Xt(n);function n(e){var r;return(0,j.default)(this,n),(r=t.call(this)).to(e.scale,yt,{x:1,y:1.2,z:1}).to(e.scale,yt,{x:1,y:.8,z:1}).to(e.scale,yt,{x:1,y:1,z:1,ease:Bounce.easeOut}),r}return(0,R.default)(n)}(TimelineMax),en=function(e){(0,M.default)(n,e);var t=Xt(n);function n(e){var r;return(0,j.default)(this,n),(r=t.call(this,{repeat:-1})).to(e.scale,.3,{y:gt,ease:Power1.easeIn}).to(e.scale,.3,{y:1,ease:Power1.easeOut}),r}return(0,R.default)(n)}(TimelineMax),tn=function(e){(0,M.default)(n,e);var t=Xt(n);function n(e,r){var a,i=r.targetPosition,s=r.initialPosition,c=r.onComplete;(0,j.default)(this,n),a=t.call(this,{onComplete:function(){return c()}});var u=i.x-s.x,l=i.z-s.z,d={x:s.x+.75*u,y:i.y+.5,z:s.z+.75*l};return a.to(e.position,yt,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},d)).to(e.position,yt,{x:i.x,y:i.y,z:i.z}),a}return(0,R.default)(n)}(TimelineMax),nn=function(e){(0,M.default)(n,e);var t=Xt(n);function n(e){var r;return(0,j.default)(this,n),(r=t.call(this)).animations=[],r.hitBy=null,r.moving=!1,r.setCharacter(e),r.reset(),r}return(0,R.default)(n,[{key:"setCharacter",value:function(e){if(this._character!==e){this._character=e;var t=st._hero.getNode(e);if(!t)throw new Error("Failed to get node for character: "+e);this.node&&this.remove(this.node),se.utils.scaleLongestSideToSize(t,1),se.utils.alignMesh(t,{x:.5,z:.5,y:1}),this.node=t,this.add(t)}}},{key:"moveOnEntity",value:function(){this.ridingOn&&(this.position.x+=this.ridingOn.speed,this.initialPosition.x=this.position.x)}},{key:"moveOnCar",value:function(){if(this.hitBy){var e=this.hitBy.mesh.position.x;this.position.x+=this.hitBy.speed,this.initialPosition&&(this.initialPosition.x=e)}}},{key:"stopAnimations",value:function(){this.animations.map((function(e){e.pause&&e.pause(),e=null})),this.animations=[]}},{key:"reset",value:function(){this.position.set(0,ut,dt),this.scale.set(1,1,1),this.rotation.set(0,Math.PI,0),this.initialPosition=null,this.targetPosition=null,this.moving=!1,this.hitBy=null,this.ridingOn=null,this.ridingOnOffset=null,this.isAlive=!0}},{key:"skipPendingMovement",value:function(){this.moving&&(this.position.set(this.targetPosition.x,this.targetPosition.y,this.targetPosition.z),this.targetRotation&&(this.rotation.y=Zt(this.targetRotation)))}},{key:"finishedMovingAnimation",value:function(){this.moving=!1,this.lastPosition=this.position}},{key:"stopIdle",value:function(){this.idleAnimation&&this.idleAnimation.pause&&this.idleAnimation.pause(),this.idleAnimation=null,this.scale.set(1,1,1)}},{key:"idle",value:function(){this.idleAnimation||(this.stopIdle(),this.idleAnimation=new en(this))}},{key:"createPositionAnimation",value:function(e){var t=this,n=e.onComplete;return new tn(this,{onComplete:function(){t.finishedMovingAnimation(),n()},targetPosition:this.targetPosition,initialPosition:this.initialPosition})}},{key:"commitMovementAnimations",value:function(e){var t=this,n=e.onComplete,r=this.createPositionAnimation({onComplete:n});this.animations=[r,new $t(this),TweenMax.to(this.rotation,yt,{y:this.targetRotation,ease:Power1.easeInOut,onComplete:function(){return t.rotation.y=Zt(t.rotation.y)}})],this.initialPosition=this.targetPosition}},{key:"runPosieAnimation",value:function(){this.stopIdle(),TweenMax.to(this.scale,.2,{x:1.2,y:.75,z:1})}},{key:"collideWithCar",value:function(e,t){this.moving&&Math.abs(this.position.z-Math.round(this.position.z))>.1?this.getHitByCar(e,t):this.getRunOverByCar(e,t)}},{key:"getRunOverByCar",value:function(e,t){this.position.y=e.top-.05,TweenLite.to(this.scale,.2,{y:.05,x:1.7,z:1.7}),TweenMax.to(this.rotation,.2,{y:Math.random()*Math.PI-Math.PI/2})}},{key:"getHitByCar",value:function(e,t){this.hitBy=t;var n=this.position.z-Math.round(this.position.z)>0;this.position.z=e.position.z+(n?.52:-.52),TweenLite.to(this.scale,.15,{y:1.5,z:.2}),TweenMax.to(this.rotation,.15,{z:Math.random()*Math.PI-Math.PI/2})}}]),n}(ce.Group),rn=n(5886),on=(ie.bacon.id,ie.bacon.name,ie.bacon.index,function(e){return Math.atan2(Math.sin(e),Math.cos(e))}),an=function(){function e(){var t=this;(0,j.default)(this,e),this.updateScale=function(){var e=D.default.get("window"),n=e.width,r=e.height,o=e.scale;t.camera&&t.camera.updateScale({width:n,height:r,scale:o}),t.renderer&&t.renderer.setSize(n*o,r*o)},this.setupGame=function(e){t.scene=new Ht({}),t.camera=new Ut,t.scene.worldWithCamera.position.z=-dt,t.updateScale(),t.gameMap=new Qt({heroWidth:.7,scene:t.scene,onCollide:t.onCollide}),t.camCount=0,t._hero=new nn(e),t.scene.world.add(t._hero),t.scene.createParticles()},this.onCollide=(0,h.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"feathers",r=arguments.length>2?arguments[2]:void 0;t.isGameEnded()||(t._hero.isAlive=!1,t._hero.stopIdle(),"car"===r?(oe.playCarHitSound(),oe.playDeathSound()):"train"===r&&(yield oe.playAsync(oe.sounds.train.die[0]),oe.playDeathSound()),t.scene.useParticle(t._hero,n,e.speed),t.scene.rumble(),t.gameOver())})),this.init=function(){t.onGameInit(),t.camera.position.z=1,t._hero.reset(),t.scene.resetParticles(t._hero.position),t.camCount=0,t.player_positions_x=[],t.moving_records=[],t.previouse_timestamp=Math.floor(Date.now()/100),t.gameMap.reset(),t._hero.idle(),t.gameMap.init(),t.onGameReady()},this.addToPlayerPositionQueue=function(e){3===t.player_positions_x.length&&t.player_positions_x.shift(),t.player_positions_x.push(e)},this.addToMovingQueue=function(e){4===t.moving_records.length&&t.moving_records.shift(),t.moving_records.push(e)},this.areElementsInListUnique=function(e){return new Set(e).size===e.length},this.forwardScene=function(){t.scene.world.position.z-=(t._hero.position.z-dt+t.scene.world.position.z)*ht,t.scene.world.position.x=-Math.min(2,Math.max(-2,t.scene.world.position.x+(t._hero.position.x-t.scene.world.position.x)*ht)),-t.scene.world.position.z-t.camCount>1&&(t.camCount=-t.scene.world.position.z,t.gameMap.newRow())},this.gameOver=function(){t._hero.moving=!1,t._hero.stopAnimations(),t.onGameEnded()},this.tick=function(e){if(t.gameMap.tick(e,t._hero),"WATER"===Gt.SaveState.ground?t.areElementsInListUnique(t.player_positions_x)?Gt.SaveState.place="WOOD":Gt.SaveState.place="LEAF":Gt.SaveState.place=Gt.SaveState.ground,Gt.SaveState.player_position_x=parseInt(t._hero.position.x.toFixed(4))+6,Gt.SaveState.player_position_z=parseInt(t._hero.position.z.toFixed(4)),t.moving_records.includes(!0)&&(Gt.SaveState.place="AIR"),t.addToPlayerPositionQueue(t._hero.position.x),t.addToMovingQueue(t._hero.moving),t._hero.isAlive&&!(t._hero.position.z<t.camera.position.z-1)&&!(t._hero.position.x<-5||t._hero.position.x>5)){var n=Math.floor(Date.now()/100);if(n-t.previouse_timestamp>.1){var r={timestamp:Math.floor(Date.now()/100),player_position_x:Gt.SaveState.player_position_x,player_position_z:Gt.SaveState.player_position_z,player_place:Gt.SaveState.place};console.log(r),rn.default.post("http://localhost:3000/",r).then((function(e){console.log(e.data)})).catch((function(e){console.error(e)})),t.previouse_timestamp=n}}t._hero.moving||(t._hero.moveOnEntity(),t._hero.moveOnCar(),t.checkIfUserHasFallenOutOfFrame()),t.forwardScene()},this.checkIfUserHasFallenOutOfFrame=function(){t.isGameEnded()||(t._hero.position.z<t.camera.position.z-1&&(t.scene.rumble(),t.gameOver(),oe.playDeathSound()),(t._hero.position.x<-5||t._hero.position.x>5)&&(t.scene.rumble(),t.gameOver(),oe.playDeathSound()))},this.updateScore=function(){var e=Math.max(Math.floor(t._hero.position.z)-8,0);t.onUpdateScore(e)},this.moveWithDirection=function(e){if(!t.isGameEnded()){var n=H.SWIPE_UP,r=H.SWIPE_DOWN,o=H.SWIPE_LEFT,a=H.SWIPE_RIGHT;t._hero.ridingOn=null,t._hero.initialPosition||(t._hero.initialPosition=t._hero.position,t._hero.targetPosition=t._hero.initialPosition),t._hero.skipPendingMovement();var i={x:0,z:0};switch(t._hero.targetRotation=on(t._hero.rotation.y),e){case o:t._hero.targetRotation=vt,i={x:1,z:0},t._hero.targetPosition={x:t._hero.initialPosition.x+1,y:t._hero.initialPosition.y,z:t._hero.initialPosition.z},t._hero.moving=!0;break;case a:0===t._hero.targetPosition?t._hero.targetPosition=-vt:(0|t._hero.targetRotation)!==-(0|vt)&&(0|t._hero.targetRotation)!==(Math.PI+vt|0)&&(t._hero.targetRotation=Math.PI+vt),i={x:-1,z:0},t._hero.targetPosition={x:t._hero.initialPosition.x-1,y:t._hero.initialPosition.y,z:t._hero.initialPosition.z},t._hero.moving=!0;break;case n:t._hero.targetRotation=0,"road"===(t.gameMap.getRow(t._hero.initialPosition.z)||{}).type&&oe.playPassiveCarSound();i={x:0,z:1},t._hero.targetPosition={x:t._hero.initialPosition.x,y:t._hero.initialPosition.y,z:t._hero.initialPosition.z+1},t._hero.targetPosition.x=Math.round(t._hero.targetPosition.x);var s=t._hero.ridingOn;s&&s.dir&&(s.dir<0?t._hero.targetPosition.x=Math.floor(t._hero.targetPosition.x):s.dir>0?t._hero.targetPosition.x=Math.ceil(t._hero.targetPosition.x):t._hero.targetPosition.x=Math.round(t._hero.targetPosition.x)),t._hero.moving=!0;break;case r:t._hero.targetRotation=Math.PI;(t.gameMap.getRow(t._hero.initialPosition.z)||{}).type;i={x:0,z:-1},t._hero.targetPosition={x:t._hero.initialPosition.x,y:t._hero.initialPosition.y,z:t._hero.initialPosition.z-1},t._hero.targetPosition.x=Math.round(t._hero.targetPosition.x);var c=t._hero.ridingOn;c&&c.dir&&(c.dir<0?t._hero.targetPosition.x=Math.floor(t._hero.targetPosition.x):c.dir>0?t._hero.targetPosition.x=Math.ceil(t._hero.targetPosition.x):t._hero.targetPosition.x=Math.round(t._hero.targetPosition.x)),t._hero.moving=!0}t.gameMap.treeCollision(t._hero.targetPosition)&&(t._hero.targetPosition={x:t._hero.initialPosition.x,y:t._hero.initialPosition.y,z:t._hero.initialPosition.z},t._hero.moving=!1);var u=t.gameMap.getRow(t._hero.initialPosition.z+i.z)||{},l=u.entity.top||ut;if("water"===u.type){var d=u.entity.getRidableForPosition(t._hero.targetPosition);l=d?u.entity.getPlayerLowerBouncePositionForEntity(d):u.entity.getPlayerSunkenPosition()}oe.playMoveSound(),t._hero.targetPosition.y=l,t._hero.commitMovementAnimations({onComplete:function(){return t.updateScore()}})}},this.beginMoveWithDirection=function(){t.isGameEnded()||t._hero.runPosieAnimation()},this._onGLContextCreate=function(){var e=(0,h.default)((function*(e){var n=e.drawingBufferWidth,r=e.drawingBufferHeight;t.renderer=new Kt({gl:e,antialias:!0,width:n,height:r,clearColor:lt}),t.unpause()}));return function(t){return e.apply(this,arguments)}}()}return(0,R.default)(e,[{key:"isGameEnded",value:function(){return!this._hero.isAlive||this._isGameStateEnded()}},{key:"pause",value:function(){cancelAnimationFrame(this.raf)}},{key:"unpause",value:function(){var e=this;!function t(){e.raf=requestAnimationFrame(t);var n=Date.now();e.tick(n),e.renderer.render(e.scene,e.camera),e.renderer.__gl.endFrameEXP()}()}}]),e}();const sn={Game:{playing:"playing",paused:"paused",gameOver:"gameOver",none:"none"}};var cn=n(6459),un=n(8859),ln=n(3455);const dn=function(){var e=(0,c.useState)({window:D.default.get("window"),screen:D.default.get("screen")}),t=(0,a.default)(e,2),n=t[0],r=t[1],o=function(e){var t=e.window,n=e.screen;r({window:t,screen:n})};return(0,c.useEffect)((function(){return D.default.addEventListener("change",o),function(){return D.default.removeEventListener("change",o)}}),[]),n};var fn=n(8631),pn=n(1451);function hn(e){var t=e.onPress,n=e.style,r=e.imageStyle,o=e.source;return(0,v.jsx)(pn.default,{onPress:t,onPressIn:(0,h.default)((function*(){yield oe.playAsync(oe.sounds.button_in)})),onPressOut:function(){var e=(0,h.default)((function*(e){yield oe.playAsync(oe.sounds.button_out)}));return function(t){return e.apply(this,arguments)}}(),style:[mn.container,n],children:(0,v.jsx)(fn.default,{source:o,style:[mn.image,r]})})}var mn=l.default.create({container:{flex:1},image:{flex:1,resizeMode:"contain",height:48}});function yn(e){var t=e.animatedValue,n=e.style,r=dn().window.width;return(0,v.jsx)(E.default.View,{style:[vn.container,{minWidth:r,maxWidth:r},n],children:(0,v.jsxs)(E.default.View,{style:[vn.banner,{transform:[{translateX:t}]}],children:[(0,v.jsx)(d.default,{style:vn.text,numberOfLines:2,children:e.title}),e.button&&function(e,t){var n=e.onPress,r=e.source,o=e.style;return(0,v.jsx)(hn,{onPress:n,imageStyle:[vn.button,o],source:r,style:{marginLeft:8,width:90,flex:void 0}},t)}(e.button,0)]})})}var vn=l.default.create({text:{fontSize:18,color:"white",fontFamily:"retro",textAlign:"center"},banner:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},container:{alignItems:"center",justifyContent:"center",flexDirection:"row",backgroundColor:"red",height:56,paddingHorizontal:8,marginVertical:8},button:{height:56,marginLeft:24}}),gn=n(1717),bn=n(8313),xn=n(9422);const wn={blue:"#87C6FF"},Pn={button:{play:n(279),back:n(9578),share:n(1403),long_play:n(279),character:n(1689),camera:n(6345),controller:n(9746),shop:n(9077),menu:n(4008),settings:n(412),rank:n(3985),social:n(435),random:n(7426),mail:n(2925),alerts:n(5572),conserve_battery:n(3980),credits:n(1853),facebook:n(3437),language:n(255),mute:n(3157),purchase:n(7351),shadows:n(9083),video_ads:n(2834)},title:n(6127),hand:{0:n(6017),1:n(3102)}};function On(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.default)((function*(){yield bn.default.share({message:"Check out Bouncy Bacon by @baconbrix",url:"https://crossyroad.netlify.com",title:"Bouncy Bacon"},{dialogTitle:"Share Bouncy Bacon",excludedActivityTypes:["com.apple.UIKit.activity.AirDrop","com.apple.UIKit.activity.AddToReadingList"],tintColor:wn.blue})}))).apply(this,arguments)}function _n(e){var t=e.style,n=e.showSettings,r=e.setGameState,o=(e.navigation,(0,c.useState)(!0)),i=(0,a.default)(o,2),s=i[0],u=i[1];return(0,c.useEffect)((function(){(0,xn.isAvailableAsync)().then(u).catch((function(){}))}),[]),gn.default.easeInEaseOut(),(0,v.jsxs)(f.default,{style:[jn.container,t],children:[(0,v.jsx)(hn,{onPress:function(){n()},imageStyle:[jn.button,{aspectRatio:1.25}],source:Pn.button.settings}),s&&(0,v.jsx)(hn,{onPress:On,imageStyle:[jn.button,{marginRight:4,aspectRatio:1.9}],source:Pn.button.share}),(0,v.jsx)(hn,{onPress:function(){r(sn.Game.none)},imageStyle:[jn.button,{marginLeft:s?4:0,aspectRatio:1.9}],source:Pn.button.long_play}),(0,v.jsx)(hn,{onPress:function(){console.log("Game Center")},imageStyle:[jn.button,{aspectRatio:1.25}],source:Pn.button.rank})]})}var jn=l.default.create({container:{alignItems:"stretch",justifyContent:"space-around",flexDirection:"row",paddingHorizontal:4,minHeight:56,maxHeight:56,minWidth:"100%",maxWidth:"100%",flex:1},button:{height:56}}),Rn=[{color:"#3640eb",title:"Get Updates Subscribe Now",button:{onPress:function(e){un.default.alert("Subscribe to our mailing list","Join our mailing list and discover the latest news from Expo and Evan Bacon.\n\n Read our privacy policy on https://github.com/EvanBacon/Expo-Crossy-Road/privacy.md",[{text:"Cancel",onPress:function(){return console.log("Cancel Pressed!")}},{text:"OK",onPress:function(){return console.log("OK Pressed!")}}],{cancelable:!1})},source:Pn.button.mail,style:{aspectRatio:1.85,height:40}}},{color:"#368FEB",title:"Free Gift in 2h 51m"},{color:"#36D6EB",title:"44 Coins To Go"}];const Mn=function(e){var t=Object.assign({},((0,cn.default)(e),e)),n=dn().window.width,r=c.useState(0),o=(0,a.default)(r,2),i=(o[0],o[1],c.useState(Object.keys(ie).map((function(e){return ie[e]})))),s=(0,a.default)(i,2),u=(s[0],s[1],c.useState(Rn.map((function(e){return new E.default.Value(0)})))),l=(0,a.default)(u,2),d=l[0];l[1],c.useEffect((function(){setTimeout((function(){m();var e=function(){var e=(0,h.default)((function*(){yield oe.playAsync(oe.sounds.banner)}));return function(){return e.apply(this,arguments)}}();e(),setTimeout((function(){return e()}),300),setTimeout((function(){return e()}),600)}),600)}));var m=function(){var e=d.map((function(e){return E.default.timing(e,{useNativeDriver:!0,toValue:1,duration:1e3,easing:ln.default.elastic()})}));E.default.stagger(300,e).start()},y=(0,p.useSafeArea)(),g=y.top,b=y.bottom,x=y.left,w=y.right;return(0,v.jsxs)(f.default,{style:[Cn.container,{paddingTop:g||12,paddingBottom:b||8},t.style],children:[(0,v.jsx)(f.default,{style:{flex:1,justifyContent:"center"},children:Rn.map((function(e,t){return(0,v.jsx)(yn,{animatedValue:d[t].interpolate({inputRange:[.2,1],outputRange:[-n,0],extrapolate:"clamp"}),style:{backgroundColor:e.color,transform:[{scaleY:d[t].interpolate({inputRange:[0,.2],outputRange:[0,1],extrapolate:"clamp"})}]},title:e.title,button:e.button},t)}))},"content"),(0,v.jsx)(_n,{style:{paddingLeft:x||4,paddingRight:w||4},showSettings:t.showSettings,setGameState:t.setGameState,navigation:t.navigation})]})};var Cn=l.default.create({container:{flex:1,justifyContent:"center",backgroundColor:"transparent"},paragraph:{margin:24,fontSize:18,fontWeight:"bold",textAlign:"center",color:"#34495e"}}),kn=n(1829),zn=Object.values(Pn.hand),En=400;function Dn(e){var t=e.style,n=c.useState(0),r=(0,a.default)(n,2),o=r[0],i=r[1];return c.useEffect((function(){var e=setInterval((function(){i((function(e){return(e+1)%zn.length}))}),En);return function(){return clearInterval(e)}}),[]),(0,v.jsx)(fn.default,{source:zn[o],style:[In.image,t]})}var In=l.default.create({image:{flex:1,alignItems:"center",justifyContent:"center",resizeMode:"contain"}});n(8485);l.default.create({picker:{height:48,minWidth:100,borderWidth:2,borderColor:"white",backgroundColor:"#75C5F4",color:"white",fontFamily:"retro"}});var An={width:60,height:48};function Bn(e){var t=c.useState(!1),n=(0,a.default)(t,2),r=n[0],o=n[1],i=c.useCallback((function(e){return function(){o(!1),e()}}),[o]),s=c.useMemo((function(){return(0,v.jsxs)(f.default,{style:{flexDirection:"column"},children:[(0,v.jsx)(hn,{onPress:i(e.onMultiplayer),style:[{marginBottom:8},An],imageStyle:An,source:Pn.button.controller}),(0,v.jsx)(hn,{onPress:i(e.onShop),style:[{marginBottom:8},An],imageStyle:An,source:Pn.button.shop}),(0,v.jsx)(hn,{onPress:i(e.onCamera),style:[{marginBottom:8},An],imageStyle:An,source:Pn.button.camera})]})}),[i]);return(0,v.jsxs)(E.default.View,{style:[Wn.container,e.style],children:[(0,v.jsx)(hn,{style:{maxHeight:48},onPress:e.onCharacterSelect,imageStyle:An,source:Pn.button.character}),!1,(0,v.jsx)(f.default,{style:{flex:1}}),(0,v.jsxs)(f.default,{style:{flexDirection:"column-reverse"},children:[(0,v.jsx)(hn,{onPress:function(){o(!r)},style:[{opacity:r?.8:1},An],imageStyle:An,source:Pn.button.menu}),r&&s]})]})}var Wn=l.default.create({container:{alignItems:"flex-end",justifyContent:"center",flexDirection:"row"},paragraph:{margin:24,fontSize:18,fontWeight:"bold",textAlign:"center",color:"#34495e"},button:{flex:1,justifyContent:"center",alignItems:"center"}}),Tn=!1;const Gn=function(e){var t=c.useContext(y),r=(t.setCharacter,t.character,new E.default.Value(0));c.useEffect((function(){function t(t){var n=t.keyCode;[32,38].includes(n)&&e.onPlay()}return window.addEventListener("keyup",t,!1),function(){window.removeEventListener("keyup",t)}}),[]),c.useEffect((function(){Tn||(Tn=!0,kn.default.runAfterInteractions((function(e){E.default.timing(r,{useNativeDriver:!0,toValue:1,duration:800,delay:0,easing:ln.default.in(ln.default.qubic)}).start()})))}),[]);var o=(0,p.useSafeArea)(),a=o.top,i=o.bottom,s=o.left,u=o.right,h={transform:[{translateX:r.interpolate({inputRange:[0,1],outputRange:[-D.default.get("window").width,0]})},{translateY:r.interpolate({inputRange:[0,1],outputRange:[-100,0]})}]};return(0,v.jsx)(f.default,{style:[Ln.container,{paddingTop:a,paddingBottom:i,paddingLeft:s,paddingRight:u}],children:(0,v.jsxs)(pn.default,{activeOpacity:1,style:[l.default.absoluteFill,{justifyContent:"center",alignItems:"center"}],onPressIn:function(){E.default.timing(r,{toValue:0,duration:400,useNativeDriver:!0,easing:ln.default.in(ln.default.qubic),onComplete:function(t){t.finished&&e.onPlay()}}).start()},children:[(0,v.jsx)(d.default,{style:Ln.coins,children:e.coins}),(0,v.jsx)(E.default.Image,{source:n(6127),style:[Ln.title,h]}),(0,v.jsxs)(f.default,{style:{justifyContent:"center",alignItems:"stretch",position:"absolute",bottom:Math.max(i,8),left:Math.max(s,8),right:Math.max(u,8)},children:[(0,v.jsx)(f.default,{style:{height:64,marginBottom:48,alignItems:"center"},children:(0,v.jsx)(Dn,{style:{width:36}})}),(0,v.jsx)(Bn,{onCharacterSelect:function(){},onShop:function(){},onMultiplayer:function(){},onCamera:function(){}})]})]})})};var Ln=l.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"transparent"},title:{resizeMode:"contain",maxWidth:600,width:"80%",height:300},coins:{fontFamily:"retro",position:"absolute",right:8,color:"#f8e84d",fontSize:36,letterSpacing:.9,backgroundColor:"transparent",textAlign:"right",shadowColor:"black",shadowOpacity:1,shadowRadius:0,shadowOffset:{width:0,height:0}},paragraph:{margin:24,fontSize:18,fontWeight:"bold",textAlign:"center",color:"#34495e"}});function Fn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Nn=function(e){var t=e.text,n=e.imageStyle,r=e.source,o=e.onPress;return(0,v.jsxs)(f.default,{style:{justifyContent:"center",width:115,height:100,alignItems:"center",marginHorizontal:4},children:[(0,v.jsx)(hn,{imageStyle:n,source:r,onPress:o}),(0,v.jsx)(d.default,{style:{fontFamily:"retro",textAlign:"center",color:"white",fontSize:12,marginTop:8},children:t.toUpperCase()})]})},Hn=function(e){(0,M.default)(n,e);var t=Fn(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={currentIndex:0,characters:Object.keys(ie).map((function(e){return ie[e]}))},e.dismiss=function(){e.props.goBack()},e.pickRandom=function(){var t=e.state,n=t.characters,r=(t.currentIndex,n[Math.floor(Math.random()*(n.length-1))]);e.props.setCharacter(r),e.dismiss()},e.share=function(){var t=e.state;t.characters[t.currentIndex].name;bn.default.share({message:"Check out Bouncy Bacon by @baconbrix",url:"https://crossyroad.netlify.com",title:"Bouncy Bacon"},{dialogTitle:"Share Bouncy Bacon",excludedActivityTypes:["com.apple.UIKit.activity.AirDrop","com.apple.UIKit.activity.AddToReadingList"],tintColor:wn.blue})},e._showResult=function(e){},e.select=function(){var t=e.state,n=t.characters,r=t.currentIndex;e.props.setCharacter(n[r]),e.dismiss()},e}return(0,R.default)(n,[{key:"render",value:function(){var e=this,t={width:60,height:48},n=[{text:"Language",source:Pn.button.language,imageStyle:t,onPress:function(e){}},{text:"Restore\nPurchases",source:Pn.button.purchase,imageStyle:t,onPress:function(e){}},{text:"Credits",source:Pn.button.credits,imageStyle:t,onPress:function(e){}},{text:"Conserve\nBattery",source:Pn.button.conserve_battery,imageStyle:t,onPress:function(e){}},{text:"Mute",source:Pn.button.mute,imageStyle:t,onPress:function(e){}},{text:"No Shadows",source:Pn.button.shadows,imageStyle:t,onPress:function(e){}},{text:"Reminders",source:Pn.button.alerts,imageStyle:t,onPress:function(e){}},{text:"Save Your Figurines",source:Pn.button.facebook,imageStyle:{width:120,height:48},onPress:function(e){}}];return(0,v.jsxs)(f.default,{style:[Vn.container,this.props.style],children:[(0,v.jsx)(f.default,{style:{flexDirection:"row",marginTop:8,paddingHorizontal:4},children:(0,v.jsx)(hn,{source:Pn.button.back,imageStyle:t,onPress:function(t){e.dismiss()}})}),(0,v.jsx)(f.default,{style:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:(0,v.jsx)(f.default,{style:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:n.map((function(e,t){return(0,v.jsx)(Nn,{source:e.source,text:e.text,imageStyle:e.imageStyle,onPress:e.onPress},t)}))},"content")},"content")]})}}]),n}(c.Component);const Un=Hn;Hn.defaultProps={coins:0};var Vn=l.default.create({container:{flex:1,justifyContent:"center",backgroundColor:"rgba(105, 201, 230, 0.8)",flexWrap:"wrap",maxWidth:"100%"},paragraph:{margin:24,fontSize:18,fontWeight:"bold",textAlign:"center",color:"#34495e"}}),Kn=["onStartGesture","onSwipe"];function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,k.default)(e);if(t){var o=(0,k.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,C.default)(this,n)}}var Yn=!1,Xn=function(e){(0,M.default)(n,e);var t=Qn(n);function n(){var e;(0,j.default)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={ready:!1,score:0,viewKey:0,gameState:sn.Game.none,showSettings:!1},e.transitionScreensValue=new E.default.Value(1),e.transitionToGamePlayingState=function(){E.default.timing(e.transitionScreensValue,{toValue:0,useNativeDriver:!0,duration:200,onComplete:function(t){var n=t.finished;e.engine.setupGame(e.props.character),e.engine.init(),n&&E.default.timing(e.transitionScreensValue,{toValue:1,useNativeDriver:!0,duration:300}).start()}}).start()},e.updateWithGameState=function(t){if(!t)throw new Error("gameState cannot be undefined");if(t!==e.state.gameState){var n=e.state.gameState;e.setState({gameState:t}),e.engine.gameState=t;var r=sn.Game,o=r.playing,a=r.gameOver,i=r.paused,s=r.none;switch(t){case o:n===i?e.engine.unpause():n!==s?e.transitionToGamePlayingState():(e.engine._hero.stopIdle(),e.onSwipe(H.SWIPE_UP));break;case a:break;case i:e.engine.pause();break;case s:n===a&&e.transitionToGamePlayingState(),e.newScore()}}},e.onScreenResize=function(t){t.window;e.engine.updateScale()},e.newScore=function(){A.default.cancel(),e.setState({score:0}),e.engine.init()},e.onSwipe=function(t){return e.engine.moveWithDirection(t)},e.renderGame=function(){if(e.state.ready)return(0,v.jsx)(Zn,{pointerEvents:Yn?"none":void 0,onStartGesture:e.engine.beginMoveWithDirection,onSwipe:e.onSwipe,children:(0,v.jsx)(z.GLView,{style:{flex:1,height:"100%",overflow:"hidden"},onContextCreate:e.engine._onGLContextCreate})})},e.renderGameOver=function(){return e.state.gameState!==sn.Game.gameOver?null:(0,v.jsx)(f.default,{style:l.default.absoluteFillObject,children:(0,v.jsx)(Mn,{showSettings:function(){e.setState({showSettings:!0})},setGameState:function(t){e.updateWithGameState(t)}})})},e.renderHomeScreen=function(){return e.state.gameState!==sn.Game.none?null:(0,v.jsx)(f.default,{style:l.default.absoluteFillObject,children:(0,v.jsx)(Gn,{onPlay:function(){e.updateWithGameState(sn.Game.playing)}})})},e}return(0,R.default)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){t.gameState&&t.gameState!==this.state.gameState&&this.updateWithGameState(t.gameState,this.state.gameState),this.engine&&e.character!==this.props.character&&this.engine._hero.setCharacter(e.character)}},{key:"componentWillUnmount",value:function(){D.default.removeEventListener("change",this.onScreenResize)}},{key:"componentDidMount",value:function(){var e=(0,h.default)((function*(){D.default.addEventListener("change",this.onScreenResize)}));return function(){return e.apply(this,arguments)}}()},{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.engine=new an,this.engine.onUpdateScore=function(t){e.state.score<t&&e.setState({score:t})},this.engine.onGameInit=function(){e.setState({score:0})},this.engine._isGameStateEnded=function(){return e.state.gameState!==sn.Game.playing},this.engine.onGameReady=function(){return e.setState({ready:!0})},this.engine.onGameEnded=function(){e.setState({gameState:sn.Game.gameOver})},this.engine.setupGame(this.props.character),this.engine.init()}},{key:"renderSettingsScreen",value:function(){var e=this;return(0,v.jsx)(f.default,{style:l.default.absoluteFillObject,children:(0,v.jsx)(Un,{goBack:function(){return e.setState({showSettings:!1})}})})}},{key:"render",value:function(){var e=this.props,t=(e.isDarkMode,e.isPaused);return(0,v.jsxs)(f.default,{pointerEvents:"box-none",style:[l.default.absoluteFill,{flex:1,backgroundColor:"#87C6FF"},I.default.select({web:{position:"fixed"},default:{position:"absolute"}}),this.props.style],children:[(0,v.jsx)(E.default.View,{style:{flex:1,opacity:this.transitionScreensValue},children:this.renderGame()}),(0,v.jsx)($,{score:this.state.score,gameOver:this.state.gameState===sn.Game.gameOver}),this.renderGameOver(),this.renderHomeScreen(),this.state.showSettings&&this.renderSettingsScreen(),t&&(0,v.jsx)(f.default,{style:[l.default.absoluteFill,{backgroundColor:"rgba(105, 201, 230, 0.8)",justifyContent:"center",alignItems:"center"}]})]})}}]),n}(c.Component),Zn=function(e){var t=e.onStartGesture,n=e.onSwipe,r=(0,_.default)(e,Kn);return(0,v.jsx)(J,Jn({onResponderGrant:function(){t()},onSwipe:function(e){n(e)},config:{velocityThreshold:.2,directionalOffsetThreshold:80},onTap:function(){n(H.SWIPE_UP)},style:{flex:1}},r))};const $n=function(e){var t=(0,B.default)(),n=c.useContext(y).character;return(0,v.jsx)(Xn,Jn(Jn({},e),{},{character:n,isDarkMode:"dark"===t}))};function er(e){var t=c.useState(null),n=(0,a.default)(t,2),r=n[0],o=n[1],i=c.useState(null),s=(0,a.default)(i,2),u=s[0],l=s[1];return c.useEffect((function(){var t=!0;return e().then((function(e){t&&l(e)})).catch((function(e){t&&o(e)})),function(){t=!1}}),[]),[u,r]}function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rr(e){var t=e.children,r=(0,s.useFonts)({retro:n(4451)}),o=(0,a.default)(r,1)[0],c=er((function(){return oe.setupAsync()})),u=(0,a.default)(c,2),l=u[0],d=u[1],f=er((function(){return st.loadModels()})),p=(0,a.default)(f,2),h=p[0],m=p[1];return console.log("Loading:",{fonts:o,audio:l,models:h}),m?(0,v.jsx)(or,{message:m.message,stack:m.stack}):d?(0,v.jsx)(or,{message:d.message,stack:d.stack}):h&&o&&l?t:(0,v.jsx)(i.default,{})}console.ignoredYellowBox=["WebGL","THREE.WebGLRenderer","THREE.WebGLProgram"];var or=function(e){var t=e.message,n=e.stack;return(0,v.jsx)(f.default,{style:ar.errorContainer,children:(0,v.jsxs)(u.default,{style:ar.error,contentContainerStyle:{},children:[(0,v.jsx)(d.default,{style:ar.errorTitle,children:"This is a fatal error \ud83d\udc4b "}),(0,v.jsx)(d.default,{style:ar.errorText,children:t}),n&&(0,v.jsx)(d.default,{style:[ar.errorText,{fontSize:12,opacity:.8,marginTop:4}],children:n})]})})},ar=l.default.create({splash:{backgroundColor:"#87C6FF",resizeMode:"contain"},errorContainer:nr(nr({},l.default.absoluteFillObject),{},{flex:1,backgroundColor:"black",justifyContent:"center",alignItems:"center"}),error:{maxWidth:300,maxHeight:"50%",borderRadius:8,paddingVertical:16,paddingHorizontal:24,backgroundColor:"#9e0000"},errorTitle:{fontSize:30,color:"white",fontWeight:"bold",borderBottomWidth:l.default.hairlineWidth,borderBottomColor:"rgba(0,0,0,0.1)"},errorText:{fontSize:24,color:"white"}});(0,r.default)((function(){return(0,v.jsx)(rr,{children:(0,v.jsx)(p.SafeAreaProvider,{children:(0,v.jsx)(S,{children:(0,v.jsx)($n,{})})})})}))},3085:(e,t,n)=>{e.exports=n.p+"static/media/Pop_1.a2672c06e27354c74811.wav"},8897:(e,t,n)=>{e.exports=n.p+"static/media/Pop_2.61f6ccd5cccd26052b98.wav"},5871:(e,t,n)=>{e.exports=n.p+"static/media/Train_Alarm.ae6f730eee8e74270569.wav"},5126:(e,t,n)=>{e.exports=n.p+"static/media/bannerhit3-g.5051dbe35d6c9c746dfe.wav"},2519:(e,t,n)=>{e.exports=n.p+"static/media/buck1.18173736e33969bd3a63.wav"},775:(e,t,n)=>{e.exports=n.p+"static/media/buck10.5a3f2b83f0a78b1d7e06.wav"},5225:(e,t,n)=>{e.exports=n.p+"static/media/buck11.6f24edbf1042759c8a58.wav"},4128:(e,t,n)=>{e.exports=n.p+"static/media/buck12.d322c352aa701221bea6.wav"},756:(e,t,n)=>{e.exports=n.p+"static/media/buck2.91b61ca2675c58be7797.wav"},2477:(e,t,n)=>{e.exports=n.p+"static/media/buck3.a813188cf1959e78dcf5.wav"},7401:(e,t,n)=>{e.exports=n.p+"static/media/buck4.d92a850ddfe9b3d08125.wav"},2236:(e,t,n)=>{e.exports=n.p+"static/media/buck5.e2d980664b971e67fb5c.wav"},3502:(e,t,n)=>{e.exports=n.p+"static/media/buck6.7dfef7b351a524ebd831.wav"},9835:(e,t,n)=>{e.exports=n.p+"static/media/buck7.f51ac82c539006c87605.wav"},7365:(e,t,n)=>{e.exports=n.p+"static/media/buck8.c5dc091ccd1619127ed0.wav"},5822:(e,t,n)=>{e.exports=n.p+"static/media/buck9.63ffe6e27ed92dd85523.wav"},8330:(e,t,n)=>{e.exports=n.p+"static/media/car-engine-loop-deep.1ced030c407b1e80199e.wav"},8822:(e,t,n)=>{e.exports=n.p+"static/media/car-horn.180c585f47cb847a2e41.wav"},8922:(e,t,n)=>{e.exports=n.p+"static/media/carhit.8bd7cdf755cb6c32a8d6.mp3"},3818:(e,t,n)=>{e.exports=n.p+"static/media/carsquish3.5fc9dfab88b059512410.wav"},9642:(e,t,n)=>{e.exports=n.p+"static/media/chickendeath.6f9b4b7f1b8454c48370.wav"},5487:(e,t,n)=>{e.exports=n.p+"static/media/chickendeath2.e76ad5c4ea82e12ddef3.wav"},6233:(e,t,n)=>{e.exports=n.p+"static/media/train_pass_no_horn.f6e6b51254471820e9f1.wav"},7177:(e,t,n)=>{e.exports=n.p+"static/media/train_pass_shorter.4f93c042ab3f88419849.wav"},9673:(e,t,n)=>{e.exports=n.p+"static/media/trainsplat.5112cdf61ab2001daca2.wav"},8039:(e,t,n)=>{e.exports=n.p+"static/media/watersplashlow.4a9cd234048cf3d39a55.mp3"},4451:(e,t,n)=>{e.exports=n.p+"static/media/retro.5fa66681c6f0a8153b97.ttf"},8848:(e,t,n)=>{e.exports=n.p+"static/media/avocoder.1aafadb344d06768e8a8.obj"},4129:(e,t,n)=>{e.exports=n.p+"static/media/bacon.6fb8b5beb02576e42a6e.obj"},9:(e,t,n)=>{e.exports=n.p+"static/media/0.cea1a0b0b94409310ab7.obj"},604:(e,t,n)=>{e.exports=n.p+"static/media/juwan.141f1013a8f47cf793a7.obj"},6103:(e,t,n)=>{e.exports=n.p+"static/media/palmer.879bb9a29db651dc29b8.obj"},5324:(e,t,n)=>{e.exports=n.p+"static/media/wheeler.a73ec3965de82806d4fb.obj"},3484:(e,t,n)=>{e.exports=n.p+"static/media/0.33b2c1a870626ffa0a05.obj"},9971:(e,t,n)=>{e.exports=n.p+"static/media/0.4106062deb5ca1b92046.obj"},3260:(e,t,n)=>{e.exports=n.p+"static/media/model.d1a65d7af442ebf2ba5f.obj"},2839:(e,t,n)=>{e.exports=n.p+"static/media/0.9ee5af46ab2e9124c15b.obj"},3839:(e,t,n)=>{e.exports=n.p+"static/media/0.65525c5450cf910e12af.obj"},6885:(e,t,n)=>{e.exports=n.p+"static/media/0.626f36be225b3b7bc3d0.obj"},3461:(e,t,n)=>{e.exports=n.p+"static/media/0.ea0e1015ef43c07bfcba.obj"},1592:(e,t,n)=>{e.exports=n.p+"static/media/0.631a10fd95dfa104e6e2.obj"},1183:(e,t,n)=>{e.exports=n.p+"static/media/0.c8399dd0c17e4ba5b6c7.obj"},2648:(e,t,n)=>{e.exports=n.p+"static/media/0.1ac3d9e45a7c7a87d4b8.obj"},1603:(e,t,n)=>{e.exports=n.p+"static/media/model.ae8f6fd18c735be8b06b.obj"},3513:(e,t,n)=>{e.exports=n.p+"static/media/0.e93395bb79d31cb14b39.obj"},5307:(e,t,n)=>{e.exports=n.p+"static/media/0.5f5583f05fc01bf3ca55.obj"},6870:(e,t,n)=>{e.exports=n.p+"static/media/0.d8e513641f71abc79e5a.obj"},5064:(e,t,n)=>{e.exports=n.p+"static/media/0.ce6b0e877df034514a31.obj"},9667:(e,t,n)=>{e.exports=n.p+"static/media/0.201643a42115faf6e7a8.obj"},1046:(e,t,n)=>{e.exports=n.p+"static/media/0.737cd4ec2cbc13e85576.obj"},7300:(e,t,n)=>{e.exports=n.p+"static/media/0.96f057e582fe09c9fd2f.obj"},1496:(e,t,n)=>{e.exports=n.p+"static/media/0.2865a10cf79895794555.obj"},4617:(e,t,n)=>{e.exports=n.p+"static/media/0.b120e99a4efb54a12289.obj"},6876:(e,t,n)=>{e.exports=n.p+"static/media/0.c19e461ad80aa0f1189a.obj"},7709:(e,t,n)=>{e.exports=n.p+"static/media/0.1e661c493c12cb04574c.obj"},6281:(e,t,n)=>{e.exports=n.p+"static/media/0.0c66f430f9228083d566.obj"},9316:(e,t,n)=>{e.exports=n.p+"static/media/0.da70d27e016c57e07e0a.obj"},3459:(e,t,n)=>{e.exports=n.p+"static/media/0.03fc5839113d57cd9280.obj"},186:(e,t,n)=>{e.exports=n.p+"static/media/0.9afbd6e093ea05f8b02b.obj"},548:(e,t,n)=>{e.exports=n.p+"static/media/0.5f97439ddf33d02f6345.obj"},1057:(e,t,n)=>{e.exports=n.p+"static/media/0.984d92847bdaa6e1f36f.obj"},2309:(e,t,n)=>{e.exports=n.p+"static/media/0.08057d96a20d3b10c2bf.obj"},5572:(e,t,n)=>{e.exports=n.p+"static/media/alerts.f0dfd16489a63ac41636.png"},9578:(e,t,n)=>{e.exports=n.p+"static/media/back.857e4fd58572de7d3110.png"},6345:(e,t,n)=>{e.exports=n.p+"static/media/camera.56c55a40ccd757150da7.png"},1689:(e,t,n)=>{e.exports=n.p+"static/media/character.20f3e32ae44f9c3479f5.png"},3980:(e,t,n)=>{e.exports=n.p+"static/media/conserve_battery.909de408c7680decdba4.png"},9746:(e,t,n)=>{e.exports=n.p+"static/media/controller.103e9179e1ee11c03df1.png"},1853:(e,t,n)=>{e.exports=n.p+"static/media/credits.d2c8b5c666300a41bee9.png"},3437:(e,t,n)=>{e.exports=n.p+"static/media/facebook.568257e66cd3857a9360.png"},255:(e,t,n)=>{e.exports=n.p+"static/media/language.9a864466fc3d2e1e2c56.png"},279:(e,t,n)=>{e.exports=n.p+"static/media/long_play.cb12ccffd53942a6c6de.png"},2925:(e,t,n)=>{e.exports=n.p+"static/media/mail.19b7f3de0231a7eed4ee.png"},4008:(e,t,n)=>{e.exports=n.p+"static/media/menu.f0bb2e7d04ced4f81ec0.png"},3157:(e,t,n)=>{e.exports=n.p+"static/media/mute.7d5f687860d645c3f8e1.png"},7351:(e,t,n)=>{e.exports=n.p+"static/media/purchase.48063d5c0edb58222f1a.png"},7426:(e,t,n)=>{e.exports=n.p+"static/media/random.3cb43ac37b184a808219.png"},3985:(e,t,n)=>{e.exports=n.p+"static/media/rank.9df345e78898abf2f16d.png"},412:(e,t,n)=>{e.exports=n.p+"static/media/settings.d7a029647d82d92b1c38.png"},9083:(e,t,n)=>{e.exports=n.p+"static/media/shadows.670c3a5f649933baf398.png"},1403:(e,t,n)=>{e.exports=n.p+"static/media/share.45f03d631e8890619009.png"},9077:(e,t,n)=>{e.exports=n.p+"static/media/shop.983572e9d34c13cf9ef6.png"},435:(e,t,n)=>{e.exports=n.p+"static/media/social.9e650cc3767e97565982.png"},2834:(e,t,n)=>{e.exports=n.p+"static/media/video_ads.7744de0fbba2f5e72466.png"},6017:(e,t,n)=>{e.exports=n.p+"static/media/0.709bd0693ebcb06d3c03.png"},3102:(e,t,n)=>{e.exports=n.p+"static/media/1.9b945f84da23746e463b.png"},6127:(e,t,n)=>{e.exports=n.p+"static/media/title.048689abe239173d5220.png"},288:(e,t,n)=>{e.exports=n.p+"static/media/avocoder.f2ca9987aef3990fcf5e.png"},2185:(e,t,n)=>{e.exports=n.p+"static/media/bacon.f2ca9987aef3990fcf5e.png"},208:(e,t,n)=>{e.exports=n.p+"static/media/0.1618e82ebd0a378dd280.png"},6520:(e,t,n)=>{e.exports=n.p+"static/media/juwan.f2ca9987aef3990fcf5e.png"},1523:(e,t,n)=>{e.exports=n.p+"static/media/palmer.f2ca9987aef3990fcf5e.png"},6678:(e,t,n)=>{e.exports=n.p+"static/media/wheeler.f2ca9987aef3990fcf5e.png"},3784:(e,t,n)=>{e.exports=n.p+"static/media/0.3765bbf8b6e40afcdfc5.png"},9896:(e,t,n)=>{e.exports=n.p+"static/media/0.40785cb7dbe24c20ac81.png"},9873:(e,t,n)=>{e.exports=n.p+"static/media/dark-grass.70cb8ad7cd8f49616801.png"},7007:(e,t,n)=>{e.exports=n.p+"static/media/light-grass.6525b1823a3f50a51a5f.png"},2072:(e,t,n)=>{e.exports=n.p+"static/media/0.130a255f772240e744b7.png"},8682:(e,t,n)=>{e.exports=n.p+"static/media/0.82e4ee626786b2d4f067.png"},1612:(e,t,n)=>{e.exports=n.p+"static/media/0.d17013e76a11338d1648.png"},1221:(e,t,n)=>{e.exports=n.p+"static/media/0.90f0d20ad8601b157451.png"},2008:(e,t,n)=>{e.exports=n.p+"static/media/0.c8378837bede0c273d68.png"},1254:(e,t,n)=>{e.exports=n.p+"static/media/0.9ffdb30fd0708d9c585d.png"},8172:(e,t,n)=>{e.exports=n.p+"static/media/0.545c3699367da2f8ef06.png"},4235:(e,t,n)=>{e.exports=n.p+"static/media/blank-texture.11fefc434280d4794277.png"},737:(e,t,n)=>{e.exports=n.p+"static/media/stripes-texture.aa14b04c16185e57c8bd.png"},7213:(e,t,n)=>{e.exports=n.p+"static/media/0.51d20ae03fb97f40ba77.png"},7141:(e,t,n)=>{e.exports=n.p+"static/media/0.cb9291de0094b73aa328.png"},6586:(e,t,n)=>{e.exports=n.p+"static/media/0.cf2a8ac1613e04cb12d2.png"},8415:(e,t,n)=>{e.exports=n.p+"static/media/0.c763da8ec6d729acc84c.png"},1892:(e,t,n)=>{e.exports=n.p+"static/media/0.6de5fe8cbf9dd93e59c4.png"},9119:(e,t,n)=>{e.exports=n.p+"static/media/0.d3245254f00e98a41b91.png"},6267:(e,t,n)=>{e.exports=n.p+"static/media/0.8062789692bea24a062e.png"},7242:(e,t,n)=>{e.exports=n.p+"static/media/0.66ffbb99f6acebe7d174.png"},8082:(e,t,n)=>{e.exports=n.p+"static/media/0.a4296560d7240377d30b.png"},773:(e,t,n)=>{e.exports=n.p+"static/media/0.93af6c35614e86e5683d.png"},9745:(e,t,n)=>{e.exports=n.p+"static/media/0.4590fbd6632ee403e8ff.png"},1790:(e,t,n)=>{e.exports=n.p+"static/media/0.dadde029a84caf0fdb58.png"},9012:(e,t,n)=>{e.exports=n.p+"static/media/0.cb590f47450040af2ab1.png"},1289:(e,t,n)=>{e.exports=n.p+"static/media/0.e8529a7cbc83c3d98f9f.png"},8171:(e,t,n)=>{e.exports=n.p+"static/media/0.7ada2fd2e9b20ea78724.png"},5472:(e,t,n)=>{e.exports=n.p+"static/media/0.f2b7048d184f74c7d61c.png"},4765:(e,t,n)=>{e.exports=n.p+"static/media/0.747f7316a6560ff73154.png"},6e3:(e,t,n)=>{e.exports=n.p+"static/media/0.b654a7d2adc6a76dbb5f.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(l=0;l<e.length;l++){for(var[r,o,a]=e[l],s=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,o,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,s,c]=r,u=0;if(i.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var l=c(n)}for(t&&t(r);u<i.length;u++)a=i[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[537],(()=>n(7002)));r=n.O(r)})();
//# sourceMappingURL=main.50d003fd.js.map